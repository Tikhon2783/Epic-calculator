21:01:40 startup.go:35: Запускаем калькулятор...
21:01:40 startup.go:155: Подключились к calc_test_database.
21:01:41 startup.go:176: Создали таблицу с запросами.
21:01:41 startup.go:197: Создали таблицу с процессами агента.
21:01:41 startup.go:63: Передаем управление оркестратору...
21:01:41 orchestrator.go:246: Подключился оркестратор.
21:01:41 orchestrator.go:340: Планируем агентов...
21:01:41 orchestrator.go:343: Запланировали агента 1
21:01:41 orchestrator.go:364: Оркестратор: проверка на непосчитанные выражения...
21:01:41 agent.go:60: Подключился агент 1.
21:01:41 orchestrator.go:457: Мониторинг агентов подключился.
21:01:41 orchestrator.go:422: Оркестратор закончил проверку на непосчитанные выражения.
21:01:41 orchestrator.go:353: Запускаем HTTP сервер...
21:01:41 agent.go:521: Время на сложение агента 1:, 500ms
21:01:41 agent.go:524: Время на вычитание агента 1:, 500ms
21:01:41 agent.go:527: Время на умножение агента 1:, 500ms
21:01:41 agent.go:530: Время на деление агента 1:, 500ms
21:01:41 agent.go:533: Агент 1 думает, что его таймаут — 5s
21:01:41 agent.go:155: Агент 1 начинает работу...
21:01:41 agent.go:175: Агент 1 ждет задачи...
21:01:45 orchestrator.go:108: Оркестратор получил запрос на подсчет выражения.
21:01:45 orchestrator.go:135: Hello postgresql
21:01:45 orchestrator.go:143: Bye postgresql
21:01:45 orchestrator.go:172: Обработчик выражений получил запрос...
21:01:45 orchestrator.go:192: Ищем свободного агента...
21:01:45 orchestrator.go:197: 1 агент свободен.
21:01:45 orchestrator.go:205: Hello again!
21:01:45 orchestrator.go:212: Отдаем выражение агенту 1.
21:01:45 orchestrator.go:216: Выражение отдано агенту 1.
21:01:45 orchestrator.go:221: Выражение отдано агенту 1, возвращем код 200.
21:01:45 agent.go:182: Агент 1 получил ID выражения: 0
21:01:45 agent.go:189: Агент 1 обрабатывает выражение с ID 0 впервые.
21:01:45 agent.go:547: Агент 1 достал из БД выражение: '2-1*3'
21:01:45 agent.go:596: Агент 1 обработал выражение: [ 2 ' -1 | 3 ] - ID: 0
21:01:45 agent.go:603: Агент 1 записал в БД части выражения с ID 0
21:01:45 agent.go:216: Агент 1 начинает обработку слагаемых
21:01:45 agent.go:218: Агент 1 обрабатывает 0 слагаемое...
21:01:45 agent.go:226: Агент 1 добавляет слагаемое '2'.
21:01:45 agent.go:218: Агент 1 обрабатывает 1 слагаемое...
21:01:45 agent.go:232: Агент 1 обрабатывает множители 1 слагаемого...
21:01:45 agent.go:235: Агент 1: '-1', '3'
21:01:45 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (-1 * 3).
21:01:45 agent.go:253: Агент 1 обработал слагаемое 'X*X'.
21:01:45 agent.go:265: Агент 1 начинает производить сложение слагаемых.
21:01:45 agent.go:266: Слайс слагаемых: [2]
21:01:45 agent.go:288: Агент 1 произвел первичную обработку частей выражения, переходит в занятую фазу.
21:01:45 agent.go:301: Агент 1 ждет вычислителей...
21:01:45 agent.go:308: Агент 1 получил значение: 
21:01:45 agent.go:326: — X * X = '-3'.
21:01:45 agent.go:336: Агент 1 добавляет слагаемое '-3'.
21:01:45 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:45 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:45 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:45 agent.go:359: Агент 1 обрабатывает 1 слагаемое...
21:01:45 agent.go:362: Агент 1: '', '-3'
21:01:45 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:01:45 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:45 agent.go:409: Слайс слагаемых: [2'-3]
21:01:45 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:45 agent.go:417: Агент 1: '2', '-3'
21:01:45 agent.go:446: Агент 1 запустил вычислитель сложения(вычитания) (2 + -3).
21:01:45 agent.go:301: Агент 1 ждет вычислителей...
21:01:46 agent.go:308: Агент 1 получил значение: 
21:01:46 agent.go:319: — X + X = '-1'.
21:01:46 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:46 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:46 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:46 agent.go:359: Агент 1 обрабатывает 1 слагаемое...
21:01:46 agent.go:362: Агент 1: '', '-3'
21:01:46 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:01:46 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:46 agent.go:409: Слайс слагаемых: ['-1]
21:01:46 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:46 agent.go:417: Агент 1: '', '-1'
21:01:46 agent.go:430: Агент 1: Не нашли пару ко 2 слагаемому, записываем, пропускаем итерацию 1.
21:01:46 agent.go:461: Агент 1 посчитал значение выражения с ID 0.
21:01:47 agent.go:175: Агент 1 ждет задачи...
21:01:47 orchestrator.go:512: Получили результат от агента 1: -1.
21:01:47 orchestrator.go:534: Положили результат в БД.
21:01:53 orchestrator.go:108: Оркестратор получил запрос на подсчет выражения.
21:01:53 orchestrator.go:135: Hello postgresql
21:01:53 orchestrator.go:143: Bye postgresql
21:01:53 orchestrator.go:172: Обработчик выражений получил запрос...
21:01:53 orchestrator.go:192: Ищем свободного агента...
21:01:53 orchestrator.go:197: 1 агент свободен.
21:01:53 orchestrator.go:205: Hello again!
21:01:53 orchestrator.go:212: Отдаем выражение агенту 1.
21:01:53 orchestrator.go:216: Выражение отдано агенту 1.
21:01:53 orchestrator.go:221: Выражение отдано агенту 1, возвращем код 200.
21:01:53 agent.go:182: Агент 1 получил ID выражения: 1
21:01:53 agent.go:189: Агент 1 обрабатывает выражение с ID 1 впервые.
21:01:53 agent.go:547: Агент 1 достал из БД выражение: '1+2+3'
21:01:53 agent.go:596: Агент 1 обработал выражение: [ 1 ' 2 ' 3 ] - ID: 1
21:01:53 agent.go:603: Агент 1 записал в БД части выражения с ID 1
21:01:53 agent.go:216: Агент 1 начинает обработку слагаемых
21:01:53 agent.go:218: Агент 1 обрабатывает 0 слагаемое...
21:01:53 agent.go:226: Агент 1 добавляет слагаемое '1'.
21:01:53 agent.go:218: Агент 1 обрабатывает 1 слагаемое...
21:01:53 agent.go:226: Агент 1 добавляет слагаемое '2'.
21:01:53 agent.go:218: Агент 1 обрабатывает 2 слагаемое...
21:01:53 agent.go:226: Агент 1 добавляет слагаемое '3'.
21:01:53 agent.go:265: Агент 1 начинает производить сложение слагаемых.
21:01:53 agent.go:266: Слайс слагаемых: [1'2'3'0]
21:01:53 agent.go:268: Агент 1 обрабатывает 1 слагаемое...
21:01:53 agent.go:270: Агент 1: '1', '2'
21:01:53 agent.go:279: Агент 1 запустил вычислитель сложения(вычитания) (1 + 2).
21:01:53 agent.go:268: Агент 1 обрабатывает 3 слагаемое...
21:01:53 agent.go:270: Агент 1: '3', '0'
21:01:53 agent.go:279: Агент 1 запустил вычислитель сложения(вычитания) (3 + 0).
21:01:53 agent.go:288: Агент 1 произвел первичную обработку частей выражения, переходит в занятую фазу.
21:01:53 agent.go:301: Агент 1 ждет вычислителей...
21:01:53 agent.go:308: Агент 1 получил значение: 
21:01:53 agent.go:319: — X + X = '3'.
21:01:53 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 2 итерацию обработки слагаемых...
21:01:53 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:53 agent.go:409: Слайс слагаемых: ['3'X'X]
21:01:53 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:53 agent.go:417: Агент 1: '', '3'
21:01:53 agent.go:430: Агент 1: Не нашли пару ко 2 слагаемому, записываем, пропускаем итерацию 1.
21:01:53 agent.go:415: Агент 1 обрабатывает 3 слагаемое...
21:01:53 agent.go:417: Агент 1: 'X', 'X'
21:01:53 agent.go:420: Агент 1: 2 слагаемое пустое, пропускаем итерацию 3.
21:01:53 agent.go:301: Агент 1 ждет вычислителей...
21:01:53 agent.go:308: Агент 1 получил значение: 
21:01:53 agent.go:319: — X + X = '3'.
21:01:53 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:53 agent.go:348: Агент 1 заходит в 2 итерацию обработки слагаемых...
21:01:53 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:53 agent.go:409: Слайс слагаемых: ['3''3]
21:01:53 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:53 agent.go:417: Агент 1: '', '3'
21:01:53 agent.go:430: Агент 1: Не нашли пару ко 2 слагаемому, записываем, пропускаем итерацию 1.
21:01:53 agent.go:415: Агент 1 обрабатывает 3 слагаемое...
21:01:53 agent.go:417: Агент 1: '', '3'
21:01:53 agent.go:446: Агент 1 запустил вычислитель сложения(вычитания) (3 + 3).
21:01:53 agent.go:301: Агент 1 ждет вычислителей...
21:01:54 agent.go:308: Агент 1 получил значение: 
21:01:54 agent.go:319: — X + X = '6'.
21:01:54 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:54 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:54 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:54 agent.go:348: Агент 1 заходит в 2 итерацию обработки слагаемых...
21:01:54 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:54 agent.go:409: Слайс слагаемых: ['''6]
21:01:54 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:54 agent.go:417: Агент 1: '', ''
21:01:54 agent.go:420: Агент 1: 2 слагаемое пустое, пропускаем итерацию 1.
21:01:54 agent.go:415: Агент 1 обрабатывает 3 слагаемое...
21:01:54 agent.go:417: Агент 1: '', '6'
21:01:54 agent.go:430: Агент 1: Не нашли пару ко 2 слагаемому, записываем, пропускаем итерацию 3.
21:01:54 agent.go:461: Агент 1 посчитал значение выражения с ID 1.
21:01:55 agent.go:175: Агент 1 ждет задачи...
21:01:55 orchestrator.go:512: Получили результат от агента 1: 6.
21:01:55 orchestrator.go:534: Положили результат в БД.
21:01:59 orchestrator.go:108: Оркестратор получил запрос на подсчет выражения.
21:01:59 orchestrator.go:135: Hello postgresql
21:01:59 orchestrator.go:143: Bye postgresql
21:01:59 orchestrator.go:172: Обработчик выражений получил запрос...
21:01:59 orchestrator.go:192: Ищем свободного агента...
21:01:59 orchestrator.go:197: 1 агент свободен.
21:01:59 orchestrator.go:205: Hello again!
21:01:59 orchestrator.go:212: Отдаем выражение агенту 1.
21:01:59 orchestrator.go:216: Выражение отдано агенту 1.
21:01:59 orchestrator.go:221: Выражение отдано агенту 1, возвращем код 200.
21:01:59 agent.go:182: Агент 1 получил ID выражения: 2
21:01:59 agent.go:189: Агент 1 обрабатывает выражение с ID 2 впервые.
21:01:59 agent.go:547: Агент 1 достал из БД выражение: '1*2+3/3'
21:01:59 agent.go:596: Агент 1 обработал выражение: [ 1 | 2 ' 3 | /3 ] - ID: 2
21:01:59 agent.go:603: Агент 1 записал в БД части выражения с ID 2
21:01:59 agent.go:216: Агент 1 начинает обработку слагаемых
21:01:59 agent.go:218: Агент 1 обрабатывает 0 слагаемое...
21:01:59 agent.go:232: Агент 1 обрабатывает множители 0 слагаемого...
21:01:59 agent.go:235: Агент 1: '1', '2'
21:01:59 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (1 * 2).
21:01:59 agent.go:253: Агент 1 обработал слагаемое 'X*X'.
21:01:59 agent.go:218: Агент 1 обрабатывает 1 слагаемое...
21:01:59 agent.go:232: Агент 1 обрабатывает множители 1 слагаемого...
21:01:59 agent.go:235: Агент 1: '3', '/3'
21:01:59 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (3 * /3).
21:01:59 agent.go:253: Агент 1 обработал слагаемое 'X*X'.
21:01:59 agent.go:265: Агент 1 начинает производить сложение слагаемых.
21:01:59 agent.go:266: Слайс слагаемых: []
21:01:59 agent.go:288: Агент 1 произвел первичную обработку частей выражения, переходит в занятую фазу.
21:01:59 agent.go:301: Агент 1 ждет вычислителей...
21:01:59 agent.go:308: Агент 1 получил значение: 
21:01:59 agent.go:326: — X * X = '2'.
21:01:59 agent.go:336: Агент 1 добавляет слагаемое '2'.
21:01:59 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:59 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:59 agent.go:359: Агент 1 обрабатывает 0 слагаемое...
21:01:59 agent.go:362: Агент 1: '', '2'
21:01:59 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:01:59 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:59 agent.go:359: Агент 1 обрабатывает 1 слагаемое...
21:01:59 agent.go:362: Агент 1: 'X', 'X'
21:01:59 agent.go:365: Агент 1: 2 множитель пустой, пропускаем итерацию 1.
21:01:59 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:59 agent.go:409: Слайс слагаемых: [2]
21:01:59 agent.go:301: Агент 1 ждет вычислителей...
21:01:59 agent.go:308: Агент 1 получил значение: 
21:01:59 agent.go:326: — X * X = '1'.
21:01:59 agent.go:336: Агент 1 добавляет слагаемое '1'.
21:01:59 agent.go:346: Агент 1 начинает обработку слагаемых...
21:01:59 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:01:59 agent.go:359: Агент 1 обрабатывает 0 слагаемое...
21:01:59 agent.go:362: Агент 1: '', '2'
21:01:59 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:01:59 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:01:59 agent.go:359: Агент 1 обрабатывает 1 слагаемое...
21:01:59 agent.go:362: Агент 1: '', '1'
21:01:59 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:01:59 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:01:59 agent.go:409: Слайс слагаемых: [2'1]
21:01:59 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:01:59 agent.go:417: Агент 1: '2', '1'
21:01:59 agent.go:446: Агент 1 запустил вычислитель сложения(вычитания) (2 + 1).
21:01:59 agent.go:301: Агент 1 ждет вычислителей...
21:02:00 agent.go:308: Агент 1 получил значение: 
21:02:00 agent.go:319: — X + X = '3'.
21:02:00 agent.go:346: Агент 1 начинает обработку слагаемых...
21:02:00 agent.go:348: Агент 1 заходит в 0 итерацию обработки слагаемых...
21:02:00 agent.go:359: Агент 1 обрабатывает 0 слагаемое...
21:02:00 agent.go:362: Агент 1: '', '2'
21:02:00 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:02:00 agent.go:348: Агент 1 заходит в 1 итерацию обработки слагаемых...
21:02:00 agent.go:359: Агент 1 обрабатывает 1 слагаемое...
21:02:00 agent.go:362: Агент 1: '', '1'
21:02:00 agent.go:375: Агент 1: Не нашли пару ко 2 множителю, записываем, пропускаем итерацию 1.
21:02:00 agent.go:408: Агент 1 начинает производить сложение слагаемых.
21:02:00 agent.go:409: Слайс слагаемых: ['3]
21:02:00 agent.go:415: Агент 1 обрабатывает 1 слагаемое...
21:02:00 agent.go:417: Агент 1: '', '3'
21:02:00 agent.go:430: Агент 1: Не нашли пару ко 2 слагаемому, записываем, пропускаем итерацию 1.
21:02:00 agent.go:461: Агент 1 посчитал значение выражения с ID 2.
21:02:00 agent.go:175: Агент 1 ждет задачи...
21:02:00 orchestrator.go:512: Получили результат от агента 1: 3.
21:02:00 orchestrator.go:534: Положили результат в БД.
21:02:42 orchestrator.go:108: Оркестратор получил запрос на подсчет выражения.
21:02:42 orchestrator.go:135: Hello postgresql
21:02:42 orchestrator.go:143: Bye postgresql
21:02:42 orchestrator.go:145: Выражение с повторяющимся ключем идемпотентности, возвращаем код 200.
21:02:57 orchestrator.go:108: Оркестратор получил запрос на подсчет выражения.
21:02:57 orchestrator.go:135: Hello postgresql
21:02:57 orchestrator.go:143: Bye postgresql
21:02:57 orchestrator.go:172: Обработчик выражений получил запрос...
21:02:57 orchestrator.go:192: Ищем свободного агента...
21:02:57 orchestrator.go:197: 1 агент свободен.
21:02:57 orchestrator.go:205: Hello again!
21:02:57 orchestrator.go:212: Отдаем выражение агенту 1.
21:02:57 orchestrator.go:216: Выражение отдано агенту 1.
21:02:57 orchestrator.go:221: Выражение отдано агенту 1, возвращем код 200.
21:02:57 agent.go:182: Агент 1 получил ID выражения: 80
21:02:57 agent.go:189: Агент 1 обрабатывает выражение с ID 80 впервые.
21:02:57 agent.go:547: Агент 1 достал из БД выражение: '1*2+3/3/0'
21:02:57 agent.go:596: Агент 1 обработал выражение: [ 1 | 2 ' 3 | /3 | /0 | 1 ] - ID: 80
21:02:57 agent.go:603: Агент 1 записал в БД части выражения с ID 80
21:02:57 agent.go:216: Агент 1 начинает обработку слагаемых
21:02:57 agent.go:218: Агент 1 обрабатывает 0 слагаемое...
21:02:57 agent.go:232: Агент 1 обрабатывает множители 0 слагаемого...
21:02:57 agent.go:235: Агент 1: '1', '2'
21:02:57 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (1 * 2).
21:02:57 agent.go:253: Агент 1 обработал слагаемое 'X*X'.
21:02:57 agent.go:218: Агент 1 обрабатывает 1 слагаемое...
21:02:57 agent.go:232: Агент 1 обрабатывает множители 1 слагаемого...
21:02:57 agent.go:235: Агент 1: '3', '/3'
21:02:57 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (3 * /3).
21:02:57 agent.go:235: Агент 1: '/0', '1'
21:02:57 agent.go:244: Агент 1 запустил вычислитель умножения(деления) (/0 * 1).
21:02:57 agent.go:253: Агент 1 обработал слагаемое 'X*X*X*X'.
21:02:57 agent.go:265: Агент 1 начинает производить сложение слагаемых.
21:02:57 agent.go:266: Слайс слагаемых: []
21:02:57 agent.go:288: Агент 1 произвел первичную обработку частей выражения, переходит в занятую фазу.
21:02:57 agent.go:301: Агент 1 ждет вычислителей...
21:02:57 agent.go:308: Агент 1 получил значение: 
21:02:57 agent.go:312: Агент 1 посчитал значение выражения с ID 80.
21:02:57 agent.go:175: Агент 1 ждет задачи...
21:02:57 orchestrator.go:523: Получили результат от агента 1: ошибка.
21:02:57 orchestrator.go:534: Положили результат в БД.
21:03:10 startup.go:75: Пользователь прислал сигнал об остановке, закрываем БД и завершаем работу...
21:03:10 startup.go:82: Hmmm
21:03:10 orchestrator.go:358: Отправляем сигнал прерывания...
21:03:10 orchestrator.go:360: Отправили сигнал прерывания.
